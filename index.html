<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitaci√≥n Karla & Edgar</title>

    <!-- FUENTES -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>

<!-- AUDIO -->
<audio id="musica-fondo" loop preload="auto">
    <source src="music/cancion.mp3" type="audio/mpeg">
</audio>

<!-- PORTADA -->
<section class="portada">
    <div class="portada-contenido animate">

        <h1 class="nombre-invitado">Nombre del Invitado</h1>

        <p class="pases">Pases asignados: X</p>

        <!-- PASES NI√ëOS -->
        <p class="pases" id="pases-ninos" style="display:none;">
            Pases para ni√±os: <strong><span id="num-ninos"></span></strong>
        </p>

        <!-- TEXTO CUANDO HAY NI√ëOS -->
        <p class="nota" id="nota-ninos">
            Nos encantar√≠a que los ni√±os nos acompa√±en en esta celebraci√≥n tan especial,
            les pedimos amablemente su ayuda para supervisarlos durante todo el evento.
        </p>

        <!-- TEXTO CUANDO NO HAY NI√ëOS -->
        <p class="nota" id="saludo-ninos" style="display:none;">
            Recepci√≥n sin ni√±os<br>
            
        </p>

        <a href="#invitacion" class="btn-principal" id="btn-asistir" onclick="iniciarMusica()">Abrir</a>

        
    </div>
</section>

<!-- HERO -->
<section class="hero" id="invitacion">
    <div class="overlay"></div>
    <div class="hero-content animate">
        <h1 class="nombres">Karla & Edgar</h1>
        <p class="frase">Hemos decidido decir ‚Äús√≠‚Äù para toda la vida</p>
        <p class="fecha-grande">14 ¬∑ Marzo ¬∑ 2026</p>

        <div class="contador">
            <div><span id="d">0</span><small>D√≠as</small></div>
            <div><span id="h">0</span><small>Horas</small></div>
            <div><span id="m">0</span><small>Min</small></div>
            <div><span id="s">0</span><small>Seg</small></div>
        </div>
    </div>
</section>

<!-- SECCIONES -->
<section class="section bg-photo photo1">
    <div class="card animate">
        <h2>Con la bendici√≥n de Dios y en compa√±√≠a de nuestros padres</h2>
        <hr>
        <p>Ma. Dolores Medina Ochoa<br>Javier Ram√≠rez Serna</p>
        <p>Mar√≠a Elena Herrera Riviera<br>Mart√≠n Gregorio Fern√°ndez Criollo</p>
    </div>
</section>

<section class="section bg-photo photo2">
    <div class="card animate">
        <h2>Nuestros padrinos</h2>
        <hr>
        <p>Elizabeth Velazco Rivera<br>Francisco Javier Medina Ochoa</p>
    </div>
</section>

<section class="section bg-photo photo3">
    <div class="card animate">
        <h2>Ceremonia</h2>
        <p>Templo Sagrado Coraz√≥n de Jes√∫s, Los Fresnos</p>
        <a class="btn-secundario" href="https://maps.app.goo.gl/MUpYukDipc6vGJq97" target="_blank">Ver ubicaci√≥n</a>

        <hr>

        <h2>Recepci√≥n</h2>
        <p>Casa de Piedra</p>
        <a class="btn-secundario" href="https://maps.app.goo.gl/w8RjkygRmRbTANPe9" target="_blank">Ver ubicaci√≥n</a>
    </div>
</section>

<section class="section bg-photo photo4">
    <div class="card animate">
        <h2>Itinerario</h2>
        <hr>
        <p>Ceremonia religiosa ¬∑ 05:00 P.M.</p>
        <p>Recepci√≥n ¬∑ 07:00 P.M.</p>
        <p>Boda civil ¬∑ 07:15 P.M.</p>
    </div>
</section>

<section class="section bg-photo photo5">
    <div class="card animate">
        <h2>C√≥digo de vestimenta</h2>
        <hr>
        <p><strong>Formal</strong></p>
        <p>Caballeros: Traje, mo√±o o corbata</p>
        <p>Damas: Vestido largo (evitar blanco y crema)</p>
    </div>
</section>

<section class="section bg-photo photo6">
    <div class="card animate">
        <h2>Mesa de regalos</h2>
        <hr>
        <a class="btn-secundario" href="https://mesaderegalos.liverpool.com.mx/milistaderegalos/51904302" target="_blank">Liverpool</a>
        <a class="btn-secundario" href="https://www.sears.com.mx/Mesa-de-Regalos/209704/te-invito-a-mi-boda-edgar-veronica" target="_blank">Sears</a>
    </div>
</section>

<section class="section bg-photo photo7">
    <div class="card animate center">
        <h2>Confirmaci√≥n de asistencia</h2>
        <hr>
        <p>Esperamos contar con tu presencia</p>
        <a class="btn-principal" href="#" id="confirmar">Confirmar asistencia</a>
    </div>
</section>

<!-- SCRIPTS -->
<script>
/* CONTADOR */
const target = new Date("2026-03-14T17:00:00").getTime();
setInterval(() => {
    const now = new Date().getTime();
    const diff = target - now;
    d.innerText = Math.floor(diff / (1000 * 60 * 60 * 24));
    h.innerText = Math.floor((diff / (1000 * 60 * 60)) % 24);
    m.innerText = Math.floor((diff / (1000 * 60)) % 60);
    s.innerText = Math.floor((diff / 1000) % 60);
}, 1000);

/* ANIMACIONES */
const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add("show");
    });
}, { threshold: 0.2 });
document.querySelectorAll(".animate").forEach(el => observer.observe(el));

/* PARAMETROS URL */
const params = new URLSearchParams(window.location.search);
const nombre = params.get("n");
const pases = params.get("p");
const ninos = params.get("k");
const fila  = params.get("r");

if (nombre) document.querySelector(".nombre-invitado").textContent = nombre;
if (pases) document.querySelector(".pases").textContent = "Pases asignados: " + pases;

/* LOGICA NI√ëOS */
if (ninos && parseInt(ninos) > 0) {
    document.getElementById("num-ninos").textContent = ninos;
    document.getElementById("pases-ninos").style.display = "block";
    document.getElementById("nota-ninos").style.display = "block";
    document.getElementById("saludo-ninos").style.display = "none";
} else {
    document.getElementById("pases-ninos").style.display = "none";
    document.getElementById("nota-ninos").style.display = "none";
    document.getElementById("saludo-ninos").style.display = "block";
}

/* MUSICA */
function iniciarMusica() {
    const audio = document.getElementById("musica-fondo");
    audio.volume = 0.5;
    audio.play().catch(err => {
        console.log("Audio bloqueado:", err);
    });
}

/* CONFIRMACION */
document.getElementById("confirmar").addEventListener("click", function(e) {
    e.preventDefault();

    if (!fila) {
        alert("Error: invitado no identificado");
        return;
    }

    const url =
      "https://script.google.com/macros/s/AKfycbykW1VLku4t_2lM1IlDuq9t4Pq7oB6N1IxgQ2IiTEHIyUF6r-rEK1Y5IpttHx3BzLS1BA/exec"
      + "?fila=" + encodeURIComponent(fila)
      + "&adultos=" + encodeURIComponent(pases || 0)
      + "&ninos=" + encodeURIComponent(ninos || 0)
      + "&_=" + new Date().getTime();

    const img = document.createElement("img");
    img.src = url;
    img.style.display = "none";
    document.body.appendChild(img);

    alert("Asistencia confirmada üíç");
});
</script>

</body>
</html>
